# VSCode Advanced Search (주석 제외)

VSCode에서 주석을 제외하고 코드만 검색하는 고급 검색 익스텐션입니다.

## 주요 기능

### 🔍 주석 제외 검색
- `//` 및 `/* */` 주석을 자동으로 제외하거나 포함, 주석만 검색 옵션 제공
- 문자열/문자 리터럴 내의 주석 토큰도 올바르게 처리
- 대소문자 무시, 전체 단어, 정규식 검색 지원
- 파일 포함/제외 패턴 지정 가능

### 📋 검색 결과 패널
- 검색 결과를 별도 패널에 표시
- 파일명, 경로, 줄 번호 정보 제공
- 코드 스니펫 미리보기
- 각 결과 항목에 마우스를 올리면 해당 라인의 전체 텍스트가 툴팁으로 표시

### 🎯 네비게이션 기능
- 검색 결과 간 빠른 이동 (F3, Shift+F3)
- 검색 패널에서 직접 결과로 점프
- 현재 위치에서 다음/이전 결과로 순환 이동

## 사용법

### 기본 검색
1. `Ctrl+Shift+F` 또는 명령 팔레트에서 "주석 제외 검색" 실행
2. 검색어와 옵션(주석 포함, 주석만, 대소문자 구분 등) 설정
3. 검색 결과 패널에서 원하는 결과 클릭

### 키보드 단축키
- `Ctrl+Shift+F`: 주석 제외 검색 실행
- `F3`: 다음 검색 결과로 이동
- `Shift+F3`: 이전 검색 결과로 이동
- `Ctrl+Shift+P`: 검색 패널 토글

### 검색 결과 패널
- 각 결과 항목에 "이동" 버튼으로 해당 위치로 점프
- 패널 내에서 F3/Shift+F3으로 네비게이션
- 검색 결과 개수 및 현재 검색어 표시

## 지원 파일 형식

다음 파일 형식을 지원합니다:
- C (`.c`)
- C 헤더 (`.h`)
- C++ (`.cpp`, `.hpp`)
- JavaScript (`.js`)
- TypeScript (`.ts`)

포함/제외 패턴을 사용해 다른 형식의 파일도 검색할 수 있습니다.

## 기술적 특징

- **고성능**: 워커 스레드를 활용해 여러 파일을 병렬로 검색
  (추가 의존성 없이 동작)
- **추가 설치 불필요**: ripgrep을 별도로 설치하지 않아도 사용 가능
- **병렬 처리**: CPU 코어 수에 맞춰 동시 검색
- **메모리 효율**: 스트리밍 방식으로 대용량 파일 처리
- **상태 머신**: 정확한 주석/문자열/코드 구분
- **다양한 인코딩 지원**: `iconv-lite`와 `jschardet`로 파일 인코딩 자동 감지 및 변환

## 개발

```bash
# 의존성 설치
npm install

# 컴파일
npm run compile

# 개발 모드 (자동 컴파일)
npm run watch
```

## VSIX 패키징 및 사내 배포

`vsce` 도구를 사용해 VSIX 파일을 만들 수 있습니다. 전역 설치 후 `vsce package`
를 실행하면 현재 버전의 VSIX 파일이 생성됩니다.

```bash
# vsce 설치 (한 번만 수행)
npm install -g vsce

# VSIX 패키지 생성
vsce package
```

생성된 `.vsix` 파일을 사내 파일 서버 등에 배포하고, 각 개발자는 VS Code 명령 팔레트의
`Extensions: Install from VSIX...`을 선택하거나 다음 명령어로 설치할 수 있습니다.

```bash
code --install-extension <파일명>.vsix
```

## 라이선스

MIT License
